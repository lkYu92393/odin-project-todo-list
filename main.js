(()=>{"use strict";const e=(()=>{let e=localStorage.getItem("projects")?JSON.parse(localStorage.getItem("projects")):[];const t=e.length>0?e:[];return e=[],{projectsArray:t,addProj:e=>{t.push(e),localStorage.setItem("projects",JSON.stringify(t))},removeProj:e=>{t.splice(t.indexOf(t.find((t=>t.name==e))),1),localStorage.setItem("projects",JSON.stringify(t))}}})(),t=()=>{document.getElementById("overlay").classList.remove("hidden")},n=()=>{document.getElementById("overlay").classList.add("hidden")},o=()=>{const t=document.getElementById("project-name");t.value?(e.addProj((e=>{const t=[];return{name:e,todo:t,addTodo:e=>{t.push(e)},removeTodo:e=>{t.splice(t.indexOf(t.find((t=>t==e))),1)},removeTodoByIndex:e=>{t.splice(e,1)}}})(t.value)),t.value="",n(),a()):alert("Project name can't be empty.")},d=t=>{let n=prompt("Please enter the todo thing.");e.projectsArray.find((e=>e.name==t.target.name)).addTodo(n),a()},r=t=>{console.log(t.target.name),e.removeProj(t.target.name),a()},a=()=>{document.querySelector("div#project-section>div.container-md").innerHTML=e.projectsArray.map((e=>{return`<div>\n        <div><h4>${e.name}</h4></div><div>Todo List:<br/><ul></ul>`+(t=e.name,(0==(n=e.todo).length?"-":n.map(((e,n)=>`<li>${e}<button name="${t}" value="${n}">Remove</button></li>`)).join(""))+"</ul></div>")+`<button class="big btnAdd" name="${e.name}">Add Todo</button>`+`<button class="big btnRemove" name="${e.name}">Remove Project</button></div>`;var t,n})).join(""),Array.from(document.querySelectorAll("button.btnAdd")).forEach((e=>{e.addEventListener("click",d)})),Array.from(document.querySelectorAll("button.btnRemove")).forEach((e=>{e.addEventListener("click",r)})),Array.from(document.querySelectorAll("li button")).forEach((t=>t.addEventListener("click",(t=>{e.projectsArray.find((e=>e.name==t.target.name)).removeTodoByIndex(parseInt(t.target.value)),a()}))))};document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("content").innerHTML='<header>\n        <div class="container-md">\n            <h1>Todo List</h1>\n            <div>Todo List is a project from odin project.</div>\n        </div>\n    </header><div class="toolbar">\n        <div class="container-md">\n            <button class="big" id="btnAddProject">Add Project</button>\n        </div>\n    </div>\n    <div id="overlay" class="hidden">\n        <div>\n            <h1>Create new project</h1>\n            <input id="project-name">\n            <button class="big" id="btnConfirm">Confirm</button>\n            <button class="big" id="btnCancel">Cancel</button>\n        </div>\n    </div>\n    <div id="project-section">\n        <div class="container-md">\n        </div>\n    </div>',document.getElementById("btnAddProject").addEventListener("click",t),document.getElementById("btnCancel").addEventListener("click",n),document.getElementById("btnConfirm").addEventListener("click",o),a()}))})();